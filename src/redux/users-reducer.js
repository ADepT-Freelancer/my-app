/* eslint-disable eqeqeq */
import { usersAPI } from "../api/api";

const FOLLOW = "FOLLOW";
const UNFOLLOW = "UNFOLLOW";
const SETUSERS = "SET_USERS";
const SET_CURRENT_PAGE = "SET_CURRENT_PAGE";
const SET_TOTAL_COUNT = "SET_TOTAL_COUNT";
const TOGGLE_IS_FETCHING = "TOGGLE_IS_FETCHING";
const TOGGLE_IS_FOLLOWING_PROGRESS = "TOGGLE_IS_FOLLOWING_PROGRESS";

let initialState = {
  users: [
    // { id: 1, followed: true, fullName: 'Diego', status: 'I am a boss ', location: {city: 'Milan', country: 'Italy'},                photo: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJ0JZyS856EYBKA9nQ6_5Kila4Dt0F-8W-oQ&usqp=CAU', },
    // { id: 2, followed: false, fullName: 'Avrora', status: 'I am a boss too ', location: {city: 'Barselona', country: 'Spanish'},                photo: 'data:image/jpeg;base64,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', }
  ],
  pageSize: 30,
  totalUsersCount: 100,
  currentPage: 3,
  isFetching: true,
  followingInProgress: [],
};

const usersReducer = (state = initialState, action) => {
  switch (action.type) {
    case FOLLOW:
      return {
        ...state,
        users: state.users.map((u) => {
          if (u.id === action.userId) {
            return { ...u, followed: true };
          }
          return u;
        }),
      };
    case UNFOLLOW:
      return {
        ...state,
        users: state.users.map((u) => {
          if (u.id === action.userId) {
            return { ...u, followed: false };
          }
          return u;
        }),
      };
    case SETUSERS:
      return { ...state, users: [...action.users] };
    case SET_CURRENT_PAGE:
      return { ...state, currentPage: action.currentPage };
    case SET_TOTAL_COUNT:
      return { ...state, totalUsersCount: action.totalCount };
    case TOGGLE_IS_FETCHING:
      return { ...state, isFetching: action.isFetching };
    case TOGGLE_IS_FOLLOWING_PROGRESS:
      return {
        ...state,
        followingInProgress: action.isFetching
          ? [...state.followingInProgress, action.userId]
          : state.followingInProgress.filter((id) => id != action.userId),
      };

    default:
      return state;
  }
};

export const followSuccess = (userId) => ({ type: FOLLOW, userId });
export const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });
export const setUsers = (users) => ({ type: SETUSERS, users });
export const setCurrentPage = (currentPage) => ({
  type: SET_CURRENT_PAGE,
  currentPage,
});
export const setTotalCount = (totalCount) => ({
  type: SET_TOTAL_COUNT,
  totalCount,
});
export const toggleIsFetching = (isFetching) => ({
  type: TOGGLE_IS_FETCHING,
  isFetching,
});
export const toggleFollowingInProgress = (isFetching, userId) => ({
  type: TOGGLE_IS_FOLLOWING_PROGRESS,
  isFetching,
  userId,
});

export const getUsers = (currentPage, pageSize) => {
  return (dispatch) => {
    dispatch(toggleIsFetching(true));
    usersAPI.getUsers(currentPage, pageSize).then((data) => {
      dispatch(toggleIsFetching(false));

      dispatch(setUsers(data.items));
      dispatch(setTotalCount(data.totalCount));
    });
  };
};

export const follow = (userId) => {
  return (dispatch) => {
    dispatch(toggleFollowingInProgress(true, userId));

    usersAPI
      .follow(userId)

      .then((response) => {
        if (response.data.resultCode == 0) {
          dispatch(followSuccess(userId));
        }
        dispatch(toggleFollowingInProgress(false, userId));
      });
  };
};

export const unfollow = (userId) => {
  return (dispatch) => {
    dispatch(toggleFollowingInProgress(true, userId));

    usersAPI
      .unfollow(userId)

      .then((response) => {
        if (response.data.resultCode == 0) {
          dispatch(unfollowSuccess(userId));
        }
        dispatch(toggleFollowingInProgress(false, userId));
      });
  };
};

export default usersReducer;
